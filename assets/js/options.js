jQuery(document).ready(function(){"use strict";function e(){var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],t=document.getElementById("map"),a={center:new google.maps.LatLng(44.5403,-78.5463),zoom:12,styles:e,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(t,a)}jQuery(".responsive-menu").on("click",function(e){return jQuery(".main-nav>ul").css({display:"block"}),e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}),jQuery("body").on("click",function(){jQuery(".main-nav>ul").css({display:"none"})}),jQuery(".open-search").on("click",function(e){return jQuery(".search-form").css({display:"block"}),e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}),jQuery(".close-search").on("click",function(){jQuery(".search-form").css({display:"none"})}),$(".go-to-top").on("click",function(){return $("body,html").animate({scrollTop:0},1200,"swing"),!1});var t=function(){var e=function(e){return e=e.replace(/(https?:\/\/\S+)/gi,function(e){return'<a href="'+e+'">'+e+"</a>"}),e=e.replace(/(^|)@(\w+)/gi,function(e){return'<a href="http://twitter.com/'+e+'">'+e+"</a>"}),e=e.replace(/(^|)#(\w+)/gi,function(e){return'<a href="http://search.twitter.com/search?q='+e.replace(/#/,"%23")+'">'+e+"</a>"})};$(".twitter_widget").each(function(){var t=$(this),a=new Date,r="Loading tweets..",o=$("<ul>").addClass("twitter").append("<li>"+r+"</li>");t.append(o);var l=t.attr("data-user"),n=parseInt(t.attr("data-posts"),10);$.getJSON("php/twitter.php?user="+l,function(t){o.empty();for(var r=0;n>r&&r<t.length;r++){var l,s=Math.floor((a.getTime()-Date.parse(t[r].created_at))/1e3),i=s%60;s=Math.floor(s/60);var c=s%60;if(c){s=Math.floor(s/60);var p=s%60;if(p){s=Math.floor(s/60);var y=s%24;if(y){s=Math.floor(s/24);var u=s%7;l=u?u+" week"+(1==u?"":"s")+" ago":y+" day"+(1==y?"":"s")+" ago"}else l=p+" hour"+(1==p?"":"s")+" ago"}else l=c+" minute"+(1==c?"":"s")+" ago"}else l=i+" second"+(1==i?"":"s")+" ago";var m="<li>"+e(t[r].text)+"<span>"+l+"</span></li>";o.append(m)}})})};t(),jQuery(".swipebox").swipebox(),jQuery(".contact-form").each(function(){var e,t,a=jQuery(this),r=jQuery(this).find(".form-send"),o=r.val(),l=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)};a.submit(function(n){n.preventDefault();var s={},i=a.find("input[name],textarea[name]");i.each(function(){s[this.name]=jQuery(this).val()}),""===s["contact-name"]||""===s["contact-email"]||""===s["contact-message"]?r.val("Please fill in all the required fields."):l(s["contact-email"])?jQuery.post("php/contacts.php",a.serialize(),function(e){t=jQuery.parseJSON(e),r.val(t.message),1==t.send&&setTimeout(function(){window.location.href="http://www.teslathemes.com"},2e3)}):r.val("Please provide a valid e-mail."),clearTimeout(e),e=setTimeout(function(){r.val(o)},3e3)})}),jQuery("#map").length&&google.maps.event.addDomListener(window,"load",e)});